<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Cookie Policy | Midas Ensemble Technologies LLC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;line-height:1.6;color:#111}
    main,header,footer{max-width:900px;margin:auto;padding:24px}
    header{background:#f7f7fb;border-bottom:1px solid #eee}
    h1,h2{line-height:1.25}
    .banner{position:fixed;left:0;right:0;bottom:0;background:#111;color:#fff;padding:16px;display:none}
    .banner a{color:#aab3ff}
    .btn{background:#4F46E5;color:#fff;border:none;padding:8px 14px;border-radius:8px;cursor:pointer;margin-right:8px}
    .btn.sec{background:#444}
    dialog{max-width:700px;border:none;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.2);padding:0}
    .dlg-head{padding:16px 20px;border-bottom:1px solid #eee}
    .dlg-body{padding:20px}
    .row{display:flex;gap:12px;align-items:center;margin:8px 0}
    label{flex:1}
  </style>
</head>
<body>
<header>
  <h1>Cookie Policy</h1>
  <p>We use cookies and similar technologies on <a href="https://www.midasensemble.com">midasensemble.com</a> to operate the site, remember preferences, analyze traffic, and show relevant content and ads. You can manage your choices below or via your browser settings.</p>
</header>

<main>
  <h2>Types of Cookies We Use</h2>
  <ul>
    <li><strong>Strictly Necessary:</strong> Required for core functionality such as security and log-in.</li>
    <li><strong>Performance/Analytics:</strong> Help us understand usage and improve the site.</li>
    <li><strong>Functional:</strong> Remember preferences.</li>
    <li><strong>Advertising:</strong> Used to deliver and measure ads (where applicable).</li>
  </ul>

  <h2>Managing Cookies</h2>
  <p>You can accept, reject, or customize non-essential cookies using the controls below. You can also adjust your browser settings to block or delete cookies.</p>

  <button class="btn" onclick="openPrefs()">Open Cookie Preferences</button>
</main>

<footer>
  <p style="padding:24px;color:#666">© <span id="y"></span> Midas Ensemble Technologies LLC</p>
</footer>

<!-- GDPR/CPRA Banner -->
<div class="banner" id="cookieBanner" role="dialog" aria-live="polite">
  <div style="max-width:900px;margin:auto;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
    <div style="flex:1;min-width:240px">
      We use cookies to improve your experience, analyze traffic, and for advertising. 
      By clicking “Accept All,” you consent to our use of all cookies. 
      See our <a href="/cookie-policy.html">Cookie Policy</a>.
    </div>
    <div>
      <button class="btn" onclick="setConsent('all')">Accept All</button>
      <button class="btn sec" onclick="openPrefs()">Customize</button>
      <button class="btn sec" onclick="setConsent('necessary')">Reject Non-Essential</button>
    </div>
  </div>
</div>

<!-- Preferences Modal -->
<dialog id="cookieDialog" aria-labelledby="cookieTitle">
  <div class="dlg-head"><h2 id="cookieTitle" style="margin:0">Cookie Preferences</h2></div>
  <div class="dlg-body">
    <div class="row">
      <label><strong>Strictly Necessary</strong> (always on)</label>
      <input type="checkbox" checked disabled>
    </div>
    <div class="row">
      <label>Performance/Analytics</label>
      <input type="checkbox" id="ck-analytics">
    </div>
    <div class="row">
      <label>Functional</label>
      <input type="checkbox" id="ck-functional">
    </div>
    <div class="row">
      <label>Advertising</label>
      <input type="checkbox" id="ck-ads">
    </div>
    <div style="margin-top:16px">
      <button class="btn" onclick="savePrefs()">Save</button>
      <button class="btn sec" onclick="closePrefs()">Cancel</button>
    </div>
  </div>
</dialog>

<script>
  const KEY='cookie-consent-v1';
  const banner=document.getElementById('cookieBanner');
  const dlg=document.getElementById('cookieDialog');

  function openPrefs(){dlg.showModal()}
  function closePrefs(){dlg.close()}

  function hasConsent(){return !!localStorage.getItem(KEY)}
  function showBanner(){banner.style.display='block'}
  function hideBanner(){banner.style.display='none'}

  function setConsent(mode){
    const v = (mode==='all')
      ? {necessary:true,analytics:true,functional:true,ads:true}
      : {necessary:true,analytics:false,functional:false,ads:false};
    localStorage.setItem(KEY, JSON.stringify(v));
    hideBanner();
    // TODO: enable/disable tags (e.g., GA/Ads) based on v
  }

  function savePrefs(){
    const v={necessary:true,
      analytics:document.getElementById('ck-analytics').checked,
      functional:document.getElementById('ck-functional').checked,
      ads:document.getElementById('ck-ads').checked};
    localStorage.setItem(KEY, JSON.stringify(v));
    hideBanner(); closePrefs();
  }

  (function init(){
    document.getElementById('y').textContent=new Date().getFullYear();
    if(!hasConsent()) showBanner();
  })();
</script>
</body>
</html>
